(this["webpackJsonpdrg-completionist"]=this["webpackJsonpdrg-completionist"]||[]).push([[14],{523:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var a=n(108),r=n.n(a),c=n(496),s=n.n(c),i=n(52),o=n.n(i),l=n(82),u=n.n(l),d=n(49),f=n.n(d),v=n(439),j=n.n(v),b=n(56),h=n.n(b),p=n(109),m=n.n(p),y=n(144),O=n(73),g=n(85),x=n.n(g),k=n(528),S=n(529),w=n(0),_=n(143),A=n(79),F=n(138),P=n(139),C=n(440),z=n(115),D=function(e){var t,n=e.CharacterSaves,a=[],r=Object.fromEntries(Object.entries(z.a).flatMap((function(e){var t=Object(O.a)(e,2),n=t[0];return t[1].map((function(e){return[e.partID,{miner:n,name:e.name}]}))}))),c=Object(C.a)(n);try{for(c.s();!(t=c.n()).done;){var s,i=t.value.Vanity.CharacterVanitySave.UnLockedVanityItemIDs,o=Object(C.a)(i);try{for(o.s();!(s=o.n()).done;){var l=r[s.value];null==l||a.includes(l)||a.push(l)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){c.e(u)}finally{c.f()}return a},E=function(e){var t,n=e.CharacterSaves,a=[],r=Object.fromEntries(z.b.map((function(e){return[e.partID,{name:e.name}]}))),c=Object(C.a)(n);try{for(c.s();!(t=c.n()).done;){var s,i=t.value.Vanity.CharacterVanitySave.UnLockedVanityItemIDs,o=Object(C.a)(i);try{for(o.s();!(s=o.n()).done;){var l=r[s.value];null==l||a.includes(l)||a.push(l)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){c.e(u)}finally{c.f()}return a},I=n(145);n(17);function U(e){var t={};return Object.keys(e).forEach((function(n){t[e[n]]=n})),t}var M=n(142),V=function(e){var t=e.UnlockedItemSkins,n=[],a=U(M.b);return Object.entries(t).forEach((function(e){var t=Object(O.a)(e,2),r=t[0],c=t[1],s=a[r];if(void 0!==s){var i,o=c.map((function(e){return U(I.a[s])[e]})).filter((function(e){return void 0!==e})),l=Object(C.a)(o);try{for(l.s();!(i=l.n()).done;){var u=i.value;n.push({weapon:s,name:u})}}catch(d){l.e(d)}finally{l.f()}}})),n},T=n(147),L=function(e){var t=e.SchematicSave.SchematicSave,n=t.ForgedSchematics,a=t.OwnedSchematics,r=[];return Object.entries(Object.values(T.a).reduce((function(e,t){return Object.assign(e,t)}),{})).forEach((function(e){var t,c=Object(O.a)(e,2),s=c[0],i=c[1],o=Object(C.a)(i);try{var l=function(){var e=t.value;void 0!==n&&n.some((function(t){return e.id===t}))&&r.push({weapon:s,name:e.name,isForged:!0}),void 0!==a&&a.some((function(t){return e.id===t}))&&r.push({weapon:s,name:e.name,isForged:!1})};for(o.s();!(t=o.n()).done;)l()}catch(u){o.e(u)}finally{o.f()}})),r},q=n(86),B=function(e){var t=e.UnlockedPickaxeParts,n=[];return Object.values(t).forEach((function(e){if(void 0!==e){var t,a=Object(C.a)(q.f);try{for(a.s();!(t=a.n()).done;){var r=t.value;r.id===e&&n.push({name:r.name})}}catch(c){a.e(c)}finally{a.f()}}})),n},G=function(e){var t=e.UnlockedPickaxeParts,n=[];return Object.values(t).forEach((function(e){if(void 0!==e){var t,a=Object(C.a)(q.e);try{var r=function(){var a=t.value;Object.entries(a.partIDs).forEach((function(t){var r=Object(O.a)(t,2),c=r[0];r[1]===e&&n.push({name:a.name,part:c})}))};for(a.s();!(t=a.n()).done;)r()}catch(c){a.e(c)}finally{a.f()}}})),n},J=n(7),N=x.a.Text;function R(e){var t=Object(w.useState)(!1),a=Object(O.a)(t,2),c=a[0],i=a[1],l=Object(w.useState)(!1),d=Object(O.a)(l,2),v=d[0],b=d[1],p=Object(P.a)(),g=Object(w.useCallback)(function(){var t=Object(y.a)(m.a.mark((function t(a){var r,c,s,i,o,l,u,d,f;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=window.performance?performance.now():void 0,b(!0),t.prev=2,t.next=5,n.e(11).then(n.bind(null,520));case 5:return c=t.sent,t.next=8,c.parse_save_file(a);case 8:return s=t.sent,i=L(s),o=V(s),l=G(s),u=B(s),d=D(s),f=E(s),t.next=17,p.transaction("rw",p.tables,Object(y.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.clearAll();case 2:return e.next=4,p.overclocks.bulkAdd(i);case 4:return e.next=6,p.frameworks.bulkAdd(o);case 6:return e.next=8,p.pickaxes.bulkAdd(l);case 8:return e.next=10,p.pickaxeUniques.bulkAdd(u);case 10:return e.next=12,p.armorPaintjobs.bulkAdd(d);case 12:return e.next=14,p.commonArmorPaintjobs.bulkAdd(f);case 14:case"end":return e.stop()}}),e)}))));case 17:h.a.success({message:Object(J.jsx)(N,{type:"success",children:"Save File Analyzed!"}),description:"Successfully imported ".concat(i.length," Overclocks, ")+"".concat(o.length," Frameworks, ")+"".concat(d.length+f.length," ")+"Armor Paintjobs, and "+"".concat(l.length+u.length," ")+"Pickaxe Parts.",duration:10}),r&&gtag("event","timing_complete",{name:"parsing_time",value:Math.round(performance.now()-r)}),gtag("event","success",{event_category:"Save File Analyzed",event_label:"Overclock Count",value:"".concat(i.length),non_interaction:!0}),gtag("event","success",{event_category:"Save File Analyzed",event_label:"Frameworks Count",value:"".concat(o.length),non_interaction:!0}),gtag("event","success",{event_category:"Save File Analyzed",event_label:"Pickaxe Parts Count",value:"".concat(l.length),non_interaction:!0}),gtag("event","success",{event_category:"Save File Analyzed",event_label:"Pickaxe Uniques Count",value:"".concat(u.length),non_interaction:!0}),e.hide(),t.next=31;break;case 26:t.prev=26,t.t0=t.catch(2),gtag("event","exception",{description:t.t0,fatal:!1}),h.a.error({message:Object(J.jsx)(N,{type:"danger",children:"Error Analyzing Save File:"}),description:Object(J.jsx)(N,{code:!0,children:t.t0.message}),duration:10}),console.error(t.t0);case 31:return t.prev=31,b(!1),t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[2,26,31,34]])})));return function(e){return t.apply(this,arguments)}}(),[p,e]);return Object(J.jsx)(u.a,{justify:"center",children:Object(J.jsxs)(j.a,{size:"middle",direction:"vertical",children:[Object(J.jsx)(u.a,{justify:"start",children:Object(J.jsx)(f.a,{span:18,offset:3,children:Object(J.jsxs)(j.a,{direction:"vertical",children:[Object(J.jsx)(N,{children:"Tired of all that clicking around just to input your current progress? Upload your save file and let Bosco do all the hard work for you!"}),Object(J.jsx)(N,{children:"The file is located in your Steam folder by default:"}),Object(J.jsx)(N,{code:!0,children:"C:\\Program Files (x86)\\Steam\\steamapps\\common\\Deep Rock Galactic\\FSD\\Saved\\SaveGames\\<steam_ID>_Player.sav"})]})})}),Object(J.jsxs)(u.a,{justify:"center",children:[Object(J.jsx)(s.a,{accept:".sav",fileList:[],beforeUpload:function(e){return gtag("event","upload_attempt",{event_label:"Attempted on ".concat(_.isMobile?"Mobile":"Desktop")}),g(e),!1},children:v?Object(J.jsx)(o.a,{disabled:!0,size:"large",icon:Object(J.jsx)(k.a,{}),children:"Analyzing..."}):Object(J.jsx)(o.a,{type:"primary",size:"large",icon:Object(J.jsx)(S.a,{}),onClick:function(){return i(!0)},children:"Select Save File"})}),c&&_.isMobile?Object(J.jsx)(f.a,{span:20,style:{marginTop:24},children:Object(J.jsxs)(j.a,{children:[Object(J.jsx)(F.a,{src:A.d,alt:"Mission Control",width:64,height:64}),Object(J.jsx)(N,{children:'"Management sees your intrepid attempts to access your save file from your mobile device and salutes your efforts."'})]})}):null]}),Object(J.jsx)(r.a,{dashed:!0,style:{margin:0}}),Object(J.jsx)(u.a,{children:Object(J.jsx)(f.a,{span:18,offset:3,children:Object(J.jsxs)(N,{type:"secondary",children:[Object(J.jsx)(N,{strong:!0,children:"Note: "}),"Bosco analyzes your save file in your browser locally to keep it safe from pointy-eared leaf-lovers."]})})})]})})}}}]);
//# sourceMappingURL=14.08a9bd93.chunk.js.map